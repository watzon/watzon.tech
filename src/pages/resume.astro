---
import BaseLayout from "../layouts/BaseLayout.astro";

const resume = {
  personal: {
    name: "Christopher Watson",
    title: "Senior Full-Stack Engineer",
    subtitle: "TypeScript · Rust · Go · React",
    location: "Salt Lake City, Utah",
    email: "chris@watzon.tech",
    website: "watzon.tech",
    github: "github.com/watzon",
    linkedin: "linkedin.com/in/watzon1993",
    years: 15
  },
  summary: "Senior full-stack engineer with 15 years of experience shipping complete, well-architected systems. Current stack centers on TypeScript, Rust, and Go, with extensive production experience in React and Svelte. As a founder, I've owned the entire lifecycle—from concept to deployment. I value clean architecture, thoughtful UX, and solving hard problems with simple solutions.",
  experience: [
    {
      title: "Software Engineer / Consultant",
      company: "Watzon Ventures LLC",
      location: "Remote",
      start: "Apr 2023",
      end: "Present",
      description: "Founded and operate an independent consultancy delivering full-stack products end-to-end (architecture, implementation, deployment, and support), including Butterbase (Go + React) scaled to ~1,800 users, ~300 MAU, and ~50 paying customers, and Pindrop, a macOS-native AI transcription app built with SwiftUI.",
      skills: ["Go", "TypeScript", "React", "SwiftUI", "PostgreSQL", "AWS"]
    },
    {
      title: "Senior Software Engineer",
      company: "Ama Multimedia LLC",
      location: "Remote",
      start: "Dec 2022",
      end: "Mar 2024",
      description: "Delivered full-stack features across subscription web products and a creator-streaming platform; rebuilt the back-office admin by extracting it from the main Vue application into a dedicated Nuxt app, reducing production build times from ~15-20 minutes to ~5-8 minutes.",
      skills: ["Crystal", "Ruby on Rails", "Vue.js", "Nuxt", "Terraform", "Docker", "AWS Lambda"]
    },
    {
      title: "Senior Software Engineer",
      company: "Impartner Software",
      location: "Remote",
      start: "Feb 2022",
      end: "Nov 2022",
      description: "Contributed to a multinational B2B PRM platform by building client-facing Vue.js features and reusable UI components, and collaborated with C# backend engineers on API integrations during a short-term engagement.",
      skills: ["Vue.js", "JavaScript", "TypeScript", "C#", "REST APIs"]
    },
    {
      title: "Senior Software Engineer",
      company: "Purple",
      location: "Utah",
      start: "Nov 2021",
      end: "Feb 2022",
      description: "Owned a proof-of-concept AWS Lambda tag router to offload third-party marketing tags from the ecommerce frontend, normalize client payloads, and route events to provider APIs; helped reduce initial page-load times from ~8-9s to ~4s.",
      skills: ["JavaScript", "AWS Lambda", "AWS", "Serverless", "API Integration"]
    },
    {
      title: "Senior Software Engineer",
      company: "TruVision Health",
      location: "Draper, UT",
      start: "Aug 2020",
      end: "Oct 2021",
      description: "Built and maintained internal tools, owned an ecommerce modernization effort to move away from WordPress/WooCommerce, and mentored junior developers while working across JavaScript/TypeScript systems and Shopify/WordPress integrations.",
      skills: ["JavaScript", "TypeScript", "Shopify", "WordPress", "WooCommerce"]
    },
    {
      title: "Software Engineer",
      company: "NeuraLegion",
      location: "Israel (Remote)",
      start: "Aug 2018",
      end: "Nov 2019",
      description: "Maintained and expanded Marionette, a browser automation toolkit in Crystal used in security-testing workflows, and integrated supporting Ruby components for platform compatibility.",
      skills: ["Crystal", "Ruby", "Browser Automation", "Application Security"]
    }
  ],
  skills: {
    languages: ["TypeScript", "Rust", "Go", "JavaScript", "Ruby", "Crystal", "Python"],
    frameworks: ["React", "Svelte", "Vue.js", "Node.js", "Ruby on Rails", "Tailwind CSS"],
    tools: ["Docker", "Terraform", "AWS", "PostgreSQL", "MongoDB", "Redis", "Git", "Linux"]
  },
  projects: [
    {
      name: "Butterbase",
      url: "butterbase.app",
      description: "Kitchen management platform for home bakers"
    },
    {
      name: "Disforum",
      url: "disforum.me",
      description: "Make Discord forums searchable on the web"
    },
    {
      name: "Pindrop",
      url: "github.com/watzon/pindrop",
      description: "macOS menu bar dictation with WhisperKit"
    },
    {
      name: "Momo",
      url: "github.com/momomemory/momo",
      description: "Free, open-source, self-hostable alternative to SuperMemory"
    }
  ]
};
---

<BaseLayout 
  title="Resume - Christopher Watson" 
  description="Senior Full-Stack Engineer with 15 years of experience in TypeScript, Rust, Go, and React."
>
  <div class="resume-page">
    <div class="resume-container">
      <!-- Header -->
      <header class="resume-header">
        <div class="resume-header-main">
          <h1 class="resume-name">{resume.personal.name}</h1>
          <p class="resume-title">{resume.personal.title}</p>
          <p class="resume-subtitle">{resume.personal.subtitle} · {resume.personal.years} Years Experience</p>
        </div>
        <div class="resume-contact">
          <a href={`mailto:${resume.personal.email}`}>{resume.personal.email}</a>
          <a href={`https://${resume.personal.website}`} target="_blank">{resume.personal.website}</a>
          <a href={`https://${resume.personal.github}`} target="_blank">{resume.personal.github}</a>
          <a href={`https://${resume.personal.linkedin}`} target="_blank">{resume.personal.linkedin}</a>
          <span class="resume-location">{resume.personal.location}</span>
        </div>
      </header>

      <!-- Summary -->
      <section class="resume-section resume-summary">
        <p>{resume.summary}</p>
      </section>

      <div class="resume-two-col">
        <!-- Left Column: Experience -->
        <div class="resume-main">
          <section class="resume-section">
            <h2 class="resume-section-title">Experience</h2>
            <div class="resume-experience-list">
              {resume.experience.map((job) => (
                <div class="resume-job">
                  <div class="resume-job-header">
                    <div class="resume-job-title-row">
                      <h3 class="resume-job-title">{job.title}</h3>
                      <span class="resume-job-dates">{job.start} — {job.end}</span>
                    </div>
                    <div class="resume-job-company">{job.company} · {job.location}</div>
                  </div>
                  {job.description && (
                    <p class="resume-job-desc">{job.description}</p>
                  )}
                  <div class="resume-job-skills">
                    {job.skills.map((skill) => (
                      <span class="resume-skill-tag">{skill}</span>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </section>
        </div>

        <!-- Right Column: Skills & Projects -->
        <aside class="resume-sidebar">
          <section class="resume-section">
            <h2 class="resume-section-title">Skills</h2>
            
            <div class="resume-skill-group">
              <h4 class="resume-skill-category">Languages</h4>
              <div class="resume-skill-tags">
                {resume.skills.languages.map((skill) => (
                  <span class="resume-skill-tag">{skill}</span>
                ))}
              </div>
            </div>

            <div class="resume-skill-group">
              <h4 class="resume-skill-category">Frameworks</h4>
              <div class="resume-skill-tags">
                {resume.skills.frameworks.map((skill) => (
                  <span class="resume-skill-tag">{skill}</span>
                ))}
              </div>
            </div>

            <div class="resume-skill-group">
              <h4 class="resume-skill-category">Tools & Platforms</h4>
              <div class="resume-skill-tags">
                {resume.skills.tools.map((skill) => (
                  <span class="resume-skill-tag">{skill}</span>
                ))}
              </div>
            </div>
          </section>

          <section class="resume-section">
            <h2 class="resume-section-title">Projects</h2>
            <div class="resume-projects">
              {resume.projects.map((project) => (
                <div class="resume-project">
                  <a href={`https://${project.url}`} target="_blank" class="resume-project-name">{project.name}</a>
                  <span class="resume-project-url"> · {project.url}</span>
                  <p class="resume-project-desc">{project.description}</p>
                </div>
              ))}
            </div>
          </section>
        </aside>
      </div>

      <!-- Print Download Hint (hidden in print) -->
      <div class="resume-download-hint">
        <button onclick="window.print()" class="resume-print-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 6 2 18 2 18 9"></polyline>
            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
            <rect x="6" y="14" width="12" height="8"></rect>
          </svg>
          Print / Save as PDF
        </button>
      </div>
    </div>
  </div>
</BaseLayout>

<style>
  /* Resume Page Styles */
  .resume-page {
    padding: var(--space-xl) 0;
  }

  .resume-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 var(--space-lg);
  }

  /* Header */
  .resume-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-lg);
    padding-bottom: var(--space-lg);
    border-bottom: 2px solid var(--border);
    margin-bottom: var(--space-lg);
  }

  .resume-name {
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 1.1;
    margin-bottom: 0.25rem;
  }

  .resume-title {
    font-size: 1.125rem;
    font-weight: 500;
    color: var(--accent);
    margin-bottom: 0.25rem;
  }

  .resume-subtitle {
    font-size: 0.875rem;
    color: var(--text-muted);
  }

  .resume-contact {
    text-align: right;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    font-size: 0.875rem;
  }

  .resume-contact a {
    color: var(--text);
    text-decoration: none;
  }

  .resume-contact a:hover {
    color: var(--accent);
  }

  .resume-location {
    color: var(--text-muted);
  }

  /* Summary */
  .resume-summary {
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--border);
    margin-bottom: var(--space-lg);
  }

  .resume-summary p {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: var(--text);
    max-width: 100%;
  }

  /* Two Column Layout */
  .resume-two-col {
    display: grid;
    grid-template-columns: 1fr 280px;
    gap: var(--space-xl);
  }

  /* Sections */
  .resume-section {
    margin-bottom: var(--space-lg);
  }

  .resume-section-title {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-muted);
    margin-bottom: var(--space-md);
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
  }

  /* Experience */
  .resume-experience-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .resume-job {
    position: relative;
  }

  .resume-job-header {
    margin-bottom: 0.5rem;
  }

  .resume-job-title-row {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    gap: var(--space-md);
  }

  .resume-job-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text);
  }

  .resume-job-dates {
    font-size: 0.8125rem;
    color: var(--text-muted);
    white-space: nowrap;
  }

  .resume-job-company {
    font-size: 0.875rem;
    color: var(--text-muted);
  }

  .resume-job-desc {
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--text);
    margin-bottom: 0.5rem;
  }

  .resume-job-skills {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
  }

  /* Skill Tags */
  .resume-skill-tag {
    display: inline-block;
    font-size: 0.6875rem;
    font-weight: 500;
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text-muted);
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
  }

  /* Sidebar */
  .resume-sidebar {
    display: flex;
    flex-direction: column;
  }

  .resume-skill-group {
    margin-bottom: var(--space-md);
  }

  .resume-skill-category {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 0.375rem;
  }

  .resume-skill-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
  }

  /* Projects */
  .resume-projects {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .resume-project {
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--border);
  }

  .resume-project:last-child {
    border-bottom: none;
  }

  .resume-project-name {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--accent);
    text-decoration: none;
  }

  .resume-project-name:hover {
    text-decoration: underline;
  }

  .resume-project-desc {
    font-size: 0.8125rem;
    color: var(--text-muted);
    margin-top: 0.125rem;
  }

  .resume-project-url {
    display: none;
  }

  /* Print Button */
  .resume-download-hint {
    text-align: center;
    margin-top: var(--space-xl);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--border);
  }

  .resume-print-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text);
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .resume-print-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .resume-header {
      flex-direction: column;
      gap: var(--space-md);
    }

    .resume-contact {
      text-align: left;
      flex-direction: row;
      flex-wrap: wrap;
      gap: 0.5rem 1rem;
    }

    .resume-name {
      font-size: 2rem;
    }

    .resume-two-col {
      grid-template-columns: 1fr;
      gap: var(--space-lg);
    }

    .resume-sidebar {
      order: -1;
    }

    .resume-job-title-row {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.25rem;
    }
  }

  /* Print Styles */
  @media print {
    .resume-page {
      padding: 0 !important;
      font-size: 9pt !important;
    }

    .resume-container {
      max-width: 100% !important;
      padding: 0 !important;
    }

    .resume-header {
      display: flex !important;
      flex-direction: row !important;
      justify-content: space-between !important;
      padding-bottom: 0.85rem !important;
      margin-bottom: 0.85rem !important;
      gap: 1rem !important;
    }

    .resume-name {
      font-size: 1.5rem !important;
      margin-bottom: 0.2rem !important;
    }

    .resume-title {
      font-size: 0.85rem !important;
      margin-bottom: 0.2rem !important;
    }

    .resume-subtitle {
      font-size: 0.7rem !important;
    }

    .resume-contact {
      flex-direction: column !important;
      text-align: right !important;
      font-size: 0.7rem !important;
      gap: 0.2rem !important;
    }

    .resume-summary {
      padding-bottom: 0.85rem !important;
      margin-bottom: 0.85rem !important;
    }

    .resume-summary p {
      font-size: 0.75rem !important;
      line-height: 1.5 !important;
    }

    .resume-two-col {
      display: grid !important;
      grid-template-columns: 1fr 200px !important;
      gap: 1.75rem !important;
    }

    .resume-section {
      margin-bottom: 1rem !important;
    }

    .resume-section-title {
      font-size: 0.6rem !important;
      margin-bottom: 0.5rem !important;
      padding-bottom: 0.3rem !important;
    }

    .resume-experience-list {
      gap: 1.1rem !important;
    }

    .resume-job-header {
      margin-bottom: 0.3rem !important;
    }

    .resume-job-title {
      font-size: 0.85rem !important;
    }

    .resume-job-dates {
      font-size: 0.65rem !important;
    }

    .resume-job-company {
      font-size: 0.7rem !important;
    }

    .resume-job-desc {
      font-size: 0.7rem !important;
      line-height: 1.45 !important;
      margin-bottom: 0.35rem !important;
    }

    .resume-job-skills {
      gap: 0.3rem !important;
    }

    .resume-skill-tag {
      font-size: 0.55rem !important;
      padding: 0.12rem 0.4rem !important;
    }

    .resume-skill-group {
      margin-bottom: 0.75rem !important;
    }

    .resume-skill-category {
      font-size: 0.7rem !important;
      margin-bottom: 0.3rem !important;
    }

    .resume-skill-tags {
      gap: 0.3rem !important;
    }

    .resume-projects {
      gap: 0.65rem !important;
    }

    .resume-project {
      padding-bottom: 0.45rem !important;
    }

    .resume-project-name {
      font-size: 0.7rem !important;
    }

    .resume-project-desc {
      font-size: 0.6rem !important;
    }

    .resume-project-url {
      display: inline !important;
      font-size: 0.6rem !important;
      color: #555 !important;
      font-weight: 400 !important;
    }

    .resume-sidebar {
      order: 0 !important;
    }
  }
</style>
